!function(t,i,e,n){"user strict";var s=function(t){t=t||{},this.ele=t.ele||{},this.circles=t.circles||{},this.imgLength=t.imgLength||0,this.intervalTime=t.intervalTime||null,this.defaultImgUrl=t.defaultImgUrl||null,this.isShowCircleBtn=t.isShowCircleBtn||!0,this.index=0,this.subEles=[],this.len=0,this.time=0,this.eventMaps={"click #next img":"clickNextBtn","click #prev img":"clickPrevBtn","click #circles":"clickCircleBtn","mouseout .banner":"mouseOutStart","mouseover .banner":"mouseOverStop"},this.init(),this.initElement()};s.Eles={imgIndex:"#img-index",imgs:"#img-index img",next:"#next img",prev:"#prev img"},s.prototype={constructor:s,_showCirculars:function(){for(var t=this.circles.children,i=0;i<this.len;i++)hasClass(t[i],"light")&&removeClass(t[i],"light");addClass(t[this.index],"light")},_playAsc:function(){var t=this;this._clearLastIntervalTime(),this.time=setInterval(function(){t.clickNextBtn()},this.intervalTime)},_playDesc:function(){this._clearLastIntervalTime(),this.time=setInterval(function(){that.clickPrevBtn()},this.intervalTime)},_clearLastIntervalTime:function(){this.time&&this._stop()},_stop:function(){clearInterval(this.time)},setStyle:function(t,i,e){t.style[i]=e},getStyleValue:function(t,i){return parseInt(t.style[i])},_animate:function(t){var i=this.getStyleValue(this.imgIndex,"left")+t;i<=-this.imgLength*this.len?this.setStyle(this.imgIndex,"left","0px"):i>=this.imgLength?this.setStyle(this.imgIndex,"left",-this.imgLength*(this.len-1)+"px"):this.setStyle(this.imgIndex,"left",i+"px")},_switchImg:function(t){if(!hasClass(t,"light")){var i=parseInt(t.getAttribute("index")),e=-this.imgLength*(i-this.index);this._animate(e),this.index=i,this._showCirculars(),this._playAsc()}},_lazyload:function(){this.ele.clientHeight;for(var t=this.ele.clientWidth,i=this.ele.children,e=this.index;e<this.len;e++)i[e].offsetLeft<t&&i[e].getAttribute("src")===this.defaultImgUrl&&(i[e].src=i[e].getAttribute("data-src"))},throttle:function(t,i,e){var n,s=new Date;return function(){var h=this,l=arguments,a=new Date;clearTimeout(n),a-s>=e?(t.apply(h,l),s=a):n=setTimeout(t,i)}},_getNextImgIndex:function(){this.index===this.len-1?this.index=0:this.index+=1},_getPreviousImgIndex:function(){0===this.index?this.index=this.len-1:this.index-=1},_getNewImgIndex:function(t){switch(t){case"next":this._getNextImgIndex();break;case"prev":this._getPreviousImgIndex()}},clickNextBtn:function(){this._getNewImgIndex("next"),this._showCirculars(),this._lazyload(),this._animate(-this.imgLength),this._playAsc()},clickPrevBtn:function(){this._getNewImgIndex("prev"),this._showCirculars(),this._lazyload(),this._animate(this.imgLength),this._playAsc()},clickCircleBtn:function(t){var i=EventUtil.getEvent(t),e=EventUtil.getTarget(i);"li"===e.tagName.toLowerCase()&&this._switchImg(e),this._lazyload()},mouseOverStop:function(){this._stop()},mouseOutStart:function(){this._playAsc()},_initImg:function(){this.ele&&(this.len=this.ele.children.length,this.len&&(this._lazyload(),this.isShowCircleBtn&&this._showCirculars(),this._playAsc()))},_scanEventsMap:function(t,i){var e=/^(\S+)\s*(.*)$/,n=i?this._delegate.bind(this):this._undelegate.bind(this);for(var s in t)if(t.hasOwnProperty(s)){var h=s.match(e);n(h[1],h[2],this[t[s]])}},initializeOrdinaryEvents:function(t){this._scanEventsMap(t,!0)},uninitializeOrdinaryEvents:function(t){this._scanEventsMap(t)},_delegate:function(t,e,n){var s=i(e),h=this;EventUtil.addHandler(s,t,function(t){n.apply(h,t)})},_undelegate:function(t,e,n){var s=i(e);EventUtil.removeHandler(s,t,this[n])},bindEvent:function(){this.initializeOrdinaryEvents(this.eventMaps)},unbindEvent:function(){this.uninitializeOrdinaryEvents(this.eventMaps)},initElement:function(){var t=s.Eles;for(var e in t)t.hasOwnProperty(e)&&(this[e]=i(t[e]))},init:function(){this._initImg(),this.bindEvent()},destory:function(){this.unbindEvent()}},t.carousel=s}(this,this.$,this._,document);